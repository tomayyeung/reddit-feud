syntax = "proto3";

package devvit.service;

import "devvit/runtime/bundle.proto";
import "google/protobuf/empty.proto";

option go_package = "github.snooguts.net/reddit/reddit-devplatform-monorepo/go-common/generated/protos/types/devvit/service";

// Fetch a bundle by its hostname
message BundleRequest {
  // Must be legal name for filesystem. Eg, LinkedBundle.hostname. 'main.local'
  string hostname = 1;
}

service BundleService {
  // Upload a bundle to the bundle repo
  rpc Upload(devvit.runtime.LinkedBundle) returns (google.protobuf.Empty);

  // Retrieve a bundle from the bundle repo
  rpc Fetch(BundleRequest) returns (devvit.runtime.LinkedBundle);
}
