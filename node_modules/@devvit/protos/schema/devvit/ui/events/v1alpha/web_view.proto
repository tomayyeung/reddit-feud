syntax = "proto3";

package devvit.ui.events.v1alpha;

import "google/protobuf/struct.proto";

option go_package = "github.snooguts.net/reddit/reddit-devplatform-monorepo/go-common/generated/protos/types/devvit/ui/events/v1alpha";
option java_package = "com.reddit.devvit.ui.events.v1alpha";

enum WebViewVisibility {
  WEBVIEW_VISIBLE = 0;
  WEBVIEW_HIDDEN = 1;
}

// Fired when the content of a WebView calls window.parent.postMessage()
message WebViewPostMessageEvent {
  // Can be a Struct or a scalar value since postMessage doesn't restrict the type of 'message'.
  google.protobuf.Value message = 1;
}

// Fired when the visibility of a fullscreen WebView changes
message WebViewFullScreenEvent {
  WebViewVisibility visibility = 1;
}

message WebViewEvent {
  oneof payload {
    WebViewPostMessageEvent post_message = 1;
    WebViewFullScreenEvent full_screen = 2;
  }
}
